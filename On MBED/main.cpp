#include "mbed.h"

#define notecount 311  // paste notecount here

void PlayTune( const unsigned int notes[], const unsigned int notenum[], const unsigned int timedelay[], int x);

const unsigned int notes[notecount] = { 1803, 1431, 1203, 1431, 1203, 1431, 1203, 1431, 1203, 1072, 1431, 1607, 1431, 1803, 1607, 2145, 2407, 2145, 1803,\
                                        1607, 1431, 1203, 1072, 1431, 1607, 1431, 1203, 1431, 1203, 1072, 1072, 1203, 803, 1431, 1607, 1431, 1803, 1607,\
                                        2145, 2407, 2145, 1803, 1607, 1431, 1203, 1072, 536, 601, 715, 803, 536, 601, 715, 803, 536, 601, 715,\
                                        803, 536, 601, 715, 803, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 803,\
                                        901, 1072, 1203, 1072, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 601, 536,\
                                        803, 901, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 803, 901, 1072, 1203,\
                                        1072, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 601, 536, 803, 901, 1431,\
                                        1607, 1431, 1203, 1431, 1203, 1072, 1072, 1203, 803, 1607, 1431, 1607, 1431, 1803, 1607, 2145, 2407, 2145, 1803,\
                                        1607, 1431, 1203, 1072, 1431, 1607, 1431, 1203, 1431, 1203, 1072, 1203, 901, 803, 1431, 1607, 1431, 1803, 1607,\
                                        2145, 2407, 2145, 1803, 1607, 1431, 1203, 1072, 536, 601, 715, 803, 536, 601, 715, 803, 536, 601, 715,\
                                        803, 536, 601, 715, 803, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 803,\
                                        901, 1072, 1203, 1072, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 601, 536,\
                                        803, 901, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 803, 901, 1072, 1203,\
                                        1072, 1203, 1072, 1203, 1072, 901, 1203, 1072, 1203, 1072, 901, 803, 901, 715, 601, 536, 803, 901, 1803,\
                                        1431, 1431, 1431, 1203, 1431, 1203, 1431, 1203, 1072, 1431, 1607, 1431, 1803, 1607, 2145, 2407, 2145, 1803, 1607,\
                                        1431, 1203, 1072, 1803, 1431, 1431, 1431, 1203, 1431, 1203, 1431, 1203, 1072, 1431, 1607, 1431, 1803, 1607, 2145,\
                                        2407, 2145, 1803, 1607, 1431, 1203, 1072};

 const unsigned int notenum[notecount] = { 266, 419, 20, 16, 19, 17, 98, 41, 349, 111, 125, 112, 209, 166, 37, 27, 24, 83, 33,\
                                           37, 125, 99, 139, 251, 37, 335, 49, 41, 249, 111, 111, 149, 149, 125, 112, 209, 166, 37,\
                                           27, 24, 83, 33, 37, 125, 99, 139, 895, 798, 671, 298, 671, 599, 671, 298, 895, 798, 671,\
                                           298, 671, 599, 671, 298, 24, 27, 49, 55, 332, 24, 27, 49, 55, 233, 149, 133, 167, 149,\
                                           133, 111, 99, 83, 24, 27, 24, 55, 332, 24, 27, 49, 55, 233, 149, 133, 251, 199, 223,\
                                           149, 166, 24, 27, 49, 55, 332, 24, 27, 49, 55, 233, 149, 133, 167, 149, 133, 111, 99,\
                                           83, 24, 27, 24, 55, 332, 24, 27, 49, 55, 233, 149, 133, 251, 199, 223, 149, 166, 251,\
                                           37, 335, 49, 41, 249, 111, 83, 124, 0, 0, 125, 112, 209, 166, 37, 27, 24, 83, 33,\
                                           37, 125, 99, 139, 251, 37, 335, 49, 41, 249, 110, 95, 199, 149, 125, 112, 209, 166, 32,\
                                           27, 24, 83, 33, 37, 125, 99, 139, 893, 798, 671, 298, 671, 599, 671, 298, 893, 796, 671,\
                                           298, 671, 599, 671, 298, 24, 27, 49, 55, 332, 24, 27, 49, 55, 233, 149, 133, 167, 149,\
                                           133, 111, 99, 83, 24, 27, 24, 55, 332, 24, 27, 49, 55, 233, 149, 133, 251, 199, 223,\
                                           149, 166, 24, 27, 49, 55, 332, 24, 27, 49, 55, 233, 149, 133, 167, 149, 133, 111, 99,\
                                           83, 24, 27, 24, 55, 332, 24, 27, 49, 55, 233, 149, 133, 251, 199, 223, 149, 166, 266,\
                                           419, 0, 20, 24, 20, 99, 41, 349, 111, 125, 112, 209, 166, 37, 27, 24, 83, 33, 37,\
                                           125, 99, 139, 266, 419, 0, 20, 24, 20, 99, 41, 349, 111, 125, 112, 209, 166, 37, 27,\
                                           24, 83, 33, 37, 125, 99, 139};



 const unsigned int timedelay[notecount] = { 0, 0, 0, 125, 100, 150, 75, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
                                             0, 0, 0, 0, 600, 0, 0, 1200, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
                                             0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 2400, 2400, 2400, 2400, 2400, 2400, 0, 0,\
                                             2400, 2525, 2400, 2400, 2400, 3475, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0,\
                                             0, 0, 0, 0, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0, 0,\
                                             0, 0, 1800, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0, 0, 0, 0,\
                                             0, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0, 0, 0, 0, 163800,\
                                             0, 0, 1200, 0, 0, 0, 600, 600, 0, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
                                             0, 0, 0, 0, 600, 0, 0, 1200, 0, 0, 0, 25, 100, 0, 0, 0, 0, 0, 25,\
                                             125, 0, 0, 0, 0, 0, 0, 0, 725, 25, 0, 2400, 2400, 2400, 2400, 2400, 2400, 25, 25,\
                                             2400, 2525, 2400, 2400, 2400, 3675, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0,\
                                             0, 0, 0, 0, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0, 0,\
                                             0, 0, 1825, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0, 0, 0, 0,\
                                             0, 2400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 0, 0, 0, 0, 0, 0, 163450,\
                                             0, 600, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
                                             0, 0, 0, 600, 0, 600, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
                                             0, 0, 0, 0, 0, 0, 0};





DigitalOut Speaker (PB_10,0);

int xvar = 0;

int main() {
    wait(2);
    for(;xvar < notecount;xvar++){
            PlayTune( notes, notenum, timedelay, xvar);
    }
    xvar = 0;
    while (1);

}

void PlayTune( const unsigned int notes[], const unsigned int notenum[], const unsigned int timedelay[], int x){
    if ((timedelay[x]) < 25){
        wait_us(25);
    }
    else{
    wait_us(timedelay[x]*100);
    }
    for(int i = 0; i < notenum[x]; i++){
        Speaker = 1;
        wait_us(notes[x]);                                                                        
        Speaker = 0;
        wait_us(notes[x]);
    }
}
 